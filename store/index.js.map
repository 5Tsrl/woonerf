{"version":3,"sources":["index.js"],"names":["createStore","configureStore","process","env","NODE_ENV","require","reducers","configuredState","safeParse","STORE","locallyStoredState","window","localStorage","getItem","store","routing","str","JSON","parse","e"],"mappings":";;;;;;;;;;kBAcwBA,W;;AAbxB;;;;AACA;;AACA;;;;AAEA,IAAIC,iBAAiB,IAArB;;AACA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCH,mBAAiBI,QAAQ,oBAAR,CAAjB;AACD,CAFD,MAEO,IAAIH,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EAAqC;AAC1CH,mBAAiBI,QAAQ,cAAR,CAAjB;AACD,CAFM,MAEA;AACLJ,mBAAiBI,QAAQ,qBAAR,CAAjB;AACD;;AAEc,SAASL,WAAT,CAAsBM,QAAtB,EAAgC;AAC7C,MAAMC,kBAAkBC,UAAUN,QAAQC,GAAR,CAAYM,KAAtB,CAAxB;AACA,MAAMC,qBAAqBF,UAAUG,OAAOC,YAAP,GAAsBD,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAtB,GAA6D,EAAvE,CAA3B;AACA,MAAMC,QAAQb,eACZ,qDAAiBc,wCAAjB,IAA6BT,QAA7B,EADY,EAEZ,qBAAMC,eAAN,EAAuBG,kBAAvB,CAFY,CAAd;AAIA,SAAOI,KAAP;AACD;;AAED,SAASN,SAAT,CAAoBQ,GAApB,EAAyB;AACvB,MAAI;AACF,WAAOC,KAAKC,KAAL,CAAWF,GAAX,KAAmB,EAA1B;AACD,GAFD,CAEE,OAAOG,CAAP,EAAU;AACV,WAAO,EAAP;AACD;AACF","file":"index.js","sourcesContent":["// @flow\nimport merge from 'lodash/merge'\nimport {combineReducers} from 'redux'\nimport {routerReducer as routing} from 'react-router-redux'\n\nlet configureStore = null\nif (process.env.NODE_ENV === 'production') {\n  configureStore = require('./store.production')\n} else if (process.env.NODE_ENV === 'test') {\n  configureStore = require('./store.mock')\n} else {\n  configureStore = require('./store.development')\n}\n\nexport default function createStore (reducers) {\n  const configuredState = safeParse(process.env.STORE)\n  const locallyStoredState = safeParse(window.localStorage ? window.localStorage.getItem('state') : {})\n  const store = configureStore(\n    combineReducers({routing, ...reducers}),\n    merge(configuredState, locallyStoredState)\n  )\n  return store\n}\n\nfunction safeParse (str) {\n  try {\n    return JSON.parse(str) || {}\n  } catch (e) {\n    return {}\n  }\n}\n"]}